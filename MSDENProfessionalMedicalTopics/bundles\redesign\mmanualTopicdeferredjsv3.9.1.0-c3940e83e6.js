function ShowLexicompMonograph(n){function i(){var n=MManual.settings.language;return"/"+n+"/Redesign/LexicompMonograph/MonographByName"}var t=$(n).attr("drug-title");t||(t=n.innerText||n.innerHTML);$(".splash-screen").css({display:"block"});$.ajax({url:i(),type:"GET",data:{name:t},dataType:"json",success:function(n){var i={item:ko.mapping.fromJS({title:t,html:n,MediaType:"lexicomp"}),options:{PopupTitle:"Lexicomp"}};MManual.Feature.MultimediaPopup.ViewModel.showPopup(i);$(".splash-screen").css({display:"none"})},error:function(n,t,i){console.error(i)}})}function SetLexicompLinkActive(){reassignLink(".LexicompLink_active");reassignLink(".resolvedDrug");reassignLink(".monographLink");reassignLink(".mainmenu__drug--popup")}function reassignLink(n){$(n).off("click").click(function(){ShowLexicompMonograph(this)});$(n).keypress(function(n){var t=n.which?n.which:n.keyCode;t===13&&ShowLexicompMonograph(this)});$(n).parent().keypress(function(n){var t=n.which?n.which:n.keyCode;t===13&&ShowLexicompMonograph(this)})}function navigateDrugPopup(n){var t,i,r;return checkClickEvent=!0,$(".lexi-navigation-items").find("li").removeClass("active"),t=$(n),t.parent().addClass("active"),i=t.attr("id").replace("nav_",""),r=$('.lexi-main p[id="'+i+'"]'),r[0].scrollIntoView(),!1}function getTopicHelpful(){$.ajax({url:MManual.settings.topic.getTopicHelpfulUrl,type:"GET",dataType:"json",success:function(n){$("#helpfulSection").length&&(helpfulModel.helpfultext=n,ko.applyBindings(helpfulModel,$("#helpfulSection").get(0)),$("#helpfulSection").addClass("feedback--active"))},error:function(n,t,i){console.error(i)}})}function feedbackButtonClicked(n){var t=$(n).attr("data-id");return $.ajax({url:MManual.settings.topic.wasThisTopicHelpfulUrl,type:"POST",dataType:"json",data:{yesno:t},success:function(n){$("#helpfulText").html(n);$(".feedback__button").hide()},error:function(n,t,i){console.error(i)}}),MManual.analytics.notifyOpenModal(MManual.analytics.eventRateATopic),!1}function MLinkpopup(n){var t={item:ko.mapping.fromJS(n),listName:"TopicMultimedia",options:{loadLocations:!1,hideTitle:!1,displaySingleItem:!0,PopupTitle:n.MediaNameTranslated}};return MManual.Feature.MultimediaPopup.ViewModel.showPopup(t),!1}var checkClickEvent,helpfulModel,MManual;(function(n){function t(){var t=n(".othertopics__link--active");if(t.length){var i=n(".sidebar.main__sidebar--topic .othertopics .box__content"),u=document.querySelector(".sidebar.main__sidebar--topic .othertopics .box__content").getBoundingClientRect(),f=document.querySelector(".othertopics__link--active").getBoundingClientRect(),e=f.top-u.top,r=e-i.height()+t.height()+i.scrollTop()+20;r>0&&n(".sidebar.main__sidebar--topic .othertopics .box__content").scrollTop(r)}}function i(){var t=n(".main-header").height(),i=n(".l-layer--breadcrumb").height()||0,r=n(window).height();n(".othertopics").length&&n(".othertopics").find("div.box__content").css("height",r-t-i-n(".othertopics").find(".othertopics__header").height()-43+"px")}i();t();n(window).resize(function(){i();t()})})(jQuery,MManual),function(n,t){n(document).ready(function(){t.Components.Topic.Carousels=n(".inlinemedia--slider").inlineMedia().init();n(function(){n(".hero__mobile__accordion ").accordion({heightStyle:"content",active:!1,collapsible:!0,activate:function(){n(".hero__description").ellipsis()}})});n(function(){n(".hero__mobile__accordion.disabled ").accordion("option","disabled",!0)});n("img[usemap]").rwdImageMaps();window.addEventListener("resize",function(){n("img[usemap]").rwdImageMaps()},!1);n(".inlinemedia__title").ellipsis()})}(jQuery,MManual);jQuery(document).ready(function(){MManual.settings.LexicompEnabled&&SetLexicompLinkActive()});helpfulModel={helpfultext:ko.observable("")};$(document).ready(function(){$(".feedback__button").click(function(){feedbackButtonClicked(this)});getTopicHelpful()}),function(n){n.fn.fixedHeadersTable=function(){"use strict";function y(){v=r.outerWidth();l=t.find(".table-box").outerWidth();c=n(u).outerHeight();h=t.offset().top}function d(){if(t.find("tr.tableHead1").length>1){if(t.find("tr.tableHead1").first().next().hasClass("tableHead1"))return;i=t.find("tr.tableHead1")}else if(t.find("tr.tableHead2").length>1){if(t.find("tr.tableHead2").first().next().hasClass("tableHead2"))return;i=t.find("tr.tableHead2")}if(i!==null&&i.find("td[rowspan]").length>0&&(i=null),i!=null){e=[];i.each(function(){var t=n(this),i;t.find("td").each(function(){n(this).data("cloneorigin",this)});i=t.clone(!0).addClass("fixed");e.push(i);t.after(i);t.data("fixedclone",i);i.css("display","none");t.addClass("no-fixed-copy")});o.off("scroll.stickies").on("scroll.stickies",function(){w()})}}function p(){e!=null&&(n.each(e,function(){var t=n(this);t.css("width",l);t.css("min-width",l);t.css("top",c+h+"px");t.find("td").each(function(){var t=n(this).data("cloneorigin");n(this).width(n(t).outerWidth());n(this).css("min-width",n(t).outerWidth())})}),n.each(i,function(){var i=n(this);n.data(i[0],"pos",i.offset().top-r.offset().top+t.offset().top-n(window).scrollTop())}))}function w(){if(i!=null){var t=-1;i.each(function(i){var r=n(this),u=n.data(r[0],"pos");u<=o.scrollTop()+c+h&&(t=i)});i.each(function(i){var u=n(this),r=u.data("fixedclone");r&&(i===t?h+c>window.innerHeight*.75?r.css("display","none"):r.css("display",""):r.css("display","none"))})}}function g(){u.find("td").each(function(){n(this).data("cloneorigin",this)});u.find("th").each(function(){n(this).data("cloneorigin",this)});f=u.clone(!0);s=n("<table><\/table>").addClass("fixed-header");n(r).after(s);f.appendTo(s);n(u).addClass("no-fixed-copy")}function b(){n(f).find("td").each(function(){var t=n(this).data("cloneorigin");n(this).width(n(t).width());n(this).css("max-width",n(t).outerWidth())});n(f).find("th").each(function(){var t=n(this).data("cloneorigin");n(this).width(n(t).width());n(this).css("max-width",n(t).outerWidth())});n(s).css("width",l);n(s).css("min-width",l);n(s).css("top",h+"px");n(f).css("width",v)}function a(){f.css("left",r.offset().left-t.offset().left+"px");n.each(e,function(){n(this).find("td").each(function(){n(this).css("left",r.offset().left-t.offset().left+"px")});n(this).find("th").each(function(){n(this).css("left",r.offset().left-t.offset().left+"px")})})}function nt(){f.css("left","");n.each(e,function(){n(this).find("td").each(function(){n(this).css("left","")});n(this).find("th").each(function(){n(this).css("left","")})})}function tt(){r.on("touchmove",function(){r.offset().left<=0&&a()});r.on("touchend",function(){a();setTimeout(function(){a()},800)});t.on("scroll",function(){a()})}function k(){y();b();p();window.innerWidth<v?a():nt()}function it(){t=o;r=t.find("table");u=r.find("thead");y();g();b();tt();n(window).on("resize",k);d();p();w()}function rt(){r.off("touchmove");r.off("touchend");t.off("scroll");window.off("resize",k);o.off("scroll.stickies");u&&(u.find("td").each(function(){n(this).removeData("cloneorigin")}),u.find("th").each(function(){n(this).removeData("cloneorigin")}));i&&n.each(i,function(){var t=n(this);t.removeData("fixedclone");t.find("td").each(function(){n(this).removeData("cloneorigin")})});f&&n(f).remove();s&&n(s).remove();e&&n.each(e,function(){n(this).remove()});o.find(".no-fixed-copy").removeClass("no-fixed-copy");h=0;i=null;e=[];u=null;f=null;c=null;r=null;t=null}var o=this,h=0,i=null,e=[],u=null,f=null,s=null,c=null,v=null,r=null,t=null,l=null;return o.init=it,o.destroy=rt,o}}(jQuery,window.MManual=window.MManual||{}),function(){function r(n,t){var i=n.data("rows");return i||(i=n.find(t.rowSelector),n.data("rows",i)),i}function u(n,t){var i=[];return n.each(function(n,r){i[n]=t.predicate(r)}),i}function f(n,t){n.each(function(n,i){t[n]?$(i).show():$(i).hide()})}function e(n,t,i){var r=i.hideElementSelector?$(i.hideElementSelector):n;return t?r.show():r.hide(),r}function o(n){return n.some(function(n){return n})}function n(n,t){var i=t.hideElementSelector?$(t.hideElementSelector):n;return i[0].id}function t(n,t){var r=n.data("options");return r||(r={},$.extend(r,i,t()),n.data("options",r)),r}var i={predicate:function(){return!0},rowSelector:"tbody tr",hideElementSelector:"",noMatchingRows:function(){},filtered:function(){},register:function(){}};ko.bindingHandlers.filterTable={init:function(i,r){var u=$(i),f=t(u,r),e=n(u,f);f.register(e)},update:function(i,s){var c=$(i),h=t(c,s),a=r(c,h),v=u(a,h),l=o(v),y;e(c,l,h);l&&f(a,v);y=n(c,h);h.filtered(y,l)}}}(),function(n){var t=document.querySelector("#topicResources"),i;t&&(n.TopicResourcesType={},n.TopicResourceViewModel=function(t,i){var r=this;return r.thumbnailUrl=ko.observable(),r.type=i,$.extend(r,t),i===n.TopicResourcesType.Video&&$.ajax({url:"/Custom/Topic/GetBrightcoveVideosThumbnails",type:"POST",data:{videoId:r.BrightcoveVideoId},async:!0,success:function(n){r.thumbnailUrl(n)}}),r},n.TopicResourcePanelViewModel=function(){var n=this;return n.activeGroup=ko.observable(),n.activateGroup=function(t){var i,r;n.activeGroup()===t?(n.activeGroup(""),i=$("#topicResources .hero__header").height(),$("#topicResources").height(i),$("#topicResources .hero__header .hero__link").attr("aria-expanded",!1)):(n.activeGroup(t),i=$("#topicResources .hero__header").height(),r=$("#topicResources .hero__content").outerHeight(),$("#topicResources").height(i+r),$("#topicResources .hero__header .hero__cell--active .hero__link").attr("aria-expanded",!0))},n},i=new n.TopicResourcePanelViewModel,ko.applyBindings(i,t))}(window.MManual=window.MManual||{}),function(n){var t;(function(t){var i;(function(t){var r=n.Foundation.Presentation.Logging,o=n.Foundation.Presentation.EventBus,f=n.Foundation.Presentation.MediaQuery,e=function(){function n(){var n=this.init.bind(this);o.addEventListener("multimedia.popup.table.show",n)}return n.prototype.init=function(){this.initToolTip()},n.prototype.initToolTip=function(){var n=this,t=jQuery('a[data-toggle="tooltip"]').filter(function(n,t){var i=jQuery(t),r=i.data("ui-tooltip");return!!r==!1}).each(function(t,i){var r=jQuery(i),o=r.attr("data-itemid"),f=r.attr("data-id"),u,e;f&&(u=jQuery("#"+f).html(),u)&&(e={content:function(){return u},position:{my:"left top+15",at:"left bottom",collision:"flipfit"},open:n.openToolTip,close:n.closeToolTip},r.tooltip(e))})},n.prototype.openToolTip=function(n,t){if(typeof n=="undefined")return!1;var i=t.tooltip,r=$(i).attr("id");$("div.ui-tooltip").not("#"+r).remove()},n.prototype.closeToolTip=function(n,t){var i=t.tooltip;i.hover(function(){return i.stop(!0).fadeTo(400,1)},function(){return i.fadeOut("1000",function(){return i.remove()})})},n.Name="WikiLinks",n}(),u,i;t.Component=e;i="data-preview-container";f.onBreakPoint(f.TABLET,function(){},function(){var t,f;u||(u=new e,t=$("["+i+"]"),t.length>0?(r.Info("Found element that contains "+i,"WikiLinks"),f=$(t[0]).data("preview-container"),r.Info("Container that should be used to search for wikilinks = '"+f+"'","WikiLinks"),u.init({containerSelector:f,itemId:n.Foundation.Context.Item.SitecoreId})):r.Info("Unable to find any element with  "+i,"WikiLinks"))})})(i=t.WikiLinks||(t.WikiLinks={}))})(t=n.Feature||(n.Feature={}))}(MManual||(MManual={}))